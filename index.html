<!DOCTYPE html>
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Simple form</title>

    <!-- Favicons-->
    <link rel="shortcut icon" href="img/logo_icon.png" type="image/x-icon">

    <!-- GOOGLE WEB FONT -->
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,900,400italic,700italic,300,300italic' rel='stylesheet' type='text/css'>

    <!-- BASE CSS -->
    <link href="css/base.css" rel="stylesheet">

    <!-- Modernizr -->
    <script src="js/modernizr.js"></script>

    <!-- SPECIFIC CSS -->

    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <!--[if lte IE 8]>
        <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a>.</p>
    <![endif]-->
  <!-- Header ================================================== -->
  <header>
    <div class="container-fluid">
      <div class="col--md-11 col-sm-11 col-xs-11">
        &nbsp;
      </div>
    </div><!-- End container -->
  </header>
  <!-- End Header =============================================== -->

  <div id="position">
    <ul>
        <li id="step_1_li" class="active">Step 1</li>
        <li id="step_2_li">Step 2</li>
        <li id="step_3_li">Step 3</li>
    </ul>
  </div>

  <!-- Content ================================================== -->
  <div id="step_1">
    <div class="col--md-12 col-sm-12 col-xs-12">
      <p>
        Upload Photo
        <span class="error_message" id="photo_upload_err">&nbsp;</span>
      </p>
    </div>

    <div class="col--md-12 col-sm-12 col-xs-12">
      <div class="photo_placeholder">
        <div id="add_photo" onclick="addPhoto()">
          <span class="icon_plus_alt2"></span>
          Add Photo
        </div>
        <input type="file" onchange="previewFile()" style="display:none;" id="input_file"><br>
        <img src="" height="170px" alt="" onclick="addPhoto()">
      </div>

      <p>
        <span>
          Please upload any photo here.
        </span>
      </p>
    </div>

    <div class="col--md-12 col-sm-12 col-xs-12 next_button">
      <button class="btn_full" id="step_1_button" onclick="goStep2()" disabled>Next</button>
    </div>

  </div>

  <div id="step_2">
    <div class="col--md-12 col-sm-12 col-xs-12">
      <p>
        Your Contact Information
        <span>
          Fill in the following details
        </span>
      </p>
    </div>

    <div class="col--md-12 col-sm-12 col-xs-12">
      <form>
        <input id="first_name" type="text" placeholder="Your First Name" class="form-control">
        <p><span class="error_message" id="first_name_err">&nbsp;</span></p>

        <input id="last_name" type="text" placeholder="Your Last Name" class="form-control">
        <p><span class="error_message" id="last_name_err">&nbsp;</span></p>

        <input id="contact_number" type="number" value="" placeholder="Contact Number" class="form-control">
        <p><span class="error_message" id="contact_number_err">&nbsp;</span></p>

        <textarea id="address" placeholder="Address" class="form-control" rows="3" cols="50"></textarea>
        <p><span class="error_message" id="address_err">&nbsp;</span></p>

      </form>
    </div>

    <div class="col--md-12 col-sm-12 col-xs-12 next_button">
      <button class="btn_full" id="step_2_button" onclick="goStep3()" disabled>Next</button>
    </div>

  </div>

  <div id="step_3">

    <div class="col--md-12 col-sm-12 col-xs-12">
      <p id="complete_message">
        Complete.
      </p>
    </div>

  </div>
  <!-- End Content =============================================== -->


  <!-- COMMON SCRIPTS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="js/functions.js"></script>

  <!-- SPECIFIC SCRIPTS -->
  <script src="js/video_header.js"></script>
  <script>
    function addPhoto() {
      document.getElementById("input_file").click(); // Click on the checkbox
    }

    function previewFile() {
      var preview = document.querySelector('img');
      var file    = document.querySelector('input[type=file]').files[0];

      if ( /\.(jpe?g|png)$/i.test(file.name) ) {
        var reader = new FileReader();

        reader.addEventListener("load", function () {
          preview.src = reader.result;
          document.getElementById("add_photo").style.display = 'none';
          document.getElementById("photo_upload_err").innerHTML = "&nbsp;";
          document.getElementById("step_1_button").disabled = false;
        }, false);

        reader.readAsDataURL(file);
      } else {
        document.getElementById("photo_upload_err").innerHTML = "You need to upload a photo";
        document.getElementById("add_photo").style.display = 'block';
        document.getElementById("step_1_button").disabled = true;
        preview.src ="";
      }

      if (file) {
        reader.readAsDataURL(file);
      }
    }

    function goStep2() {
      document.getElementById("step_1").style.display = 'none';
      document.getElementById("step_2").style.display = 'block';
      document.getElementById("step_1_li").className = "completed";
      document.getElementById("step_2_li").className = "active";
    }
  </script>

  <script>
    document.getElementById("first_name").addEventListener("change", validateFirstName);

    function validateFirstName() {
        var x = document.getElementById("first_name").value;
        if (!x.match(/\S/)) {
          document.getElementById("first_name_err").innerHTML = "This field cannot be empty";
          document.getElementById("step_2_button").disabled = true;
        } else {
          document.getElementById("first_name_err").innerHTML = "&nbsp;";
        }
    }

    document.getElementById("last_name").addEventListener("change", validateLastName);

    function validateLastName() {
        var x = document.getElementById("last_name").value;
        if (!x.match(/\S/)) {
          document.getElementById("last_name_err").innerHTML = "This field cannot be empty";
          document.getElementById("step_2_button").disabled = true;
        } else {
          document.getElementById("last_name_err").innerHTML = "&nbsp;";
        }
    }

    document.getElementById("contact_number").addEventListener("change", validateContactNumber);

    function validateContactNumber() {
        var x = document.getElementById("contact_number").value;
        if (!x.match(/\S/)) {
          document.getElementById("contact_number_err").innerHTML = "This field cannot be empty";
          document.getElementById("step_2_button").disabled = true;
        } else {
          document.getElementById("contact_number_err").innerHTML = "&nbsp;";
        }
    }

    document.getElementById("address").addEventListener("change", validateAddress);

    function validateAddress() {
        var x = document.getElementById("address").value;
        if (!x.match(/\S/)) {
          document.getElementById("address_err").innerHTML = "This field cannot be empty";
          document.getElementById("step_2_button").disabled = true;
        } else {
          document.getElementById("address_err").innerHTML = "&nbsp;";
        }
    }

    $(document).ready(function() {
      $("form > :input").keyup(function() {
          var $emptyFields = $('form :input').filter(function() {
              return $.trim(this.value) === "";
          });

          if (!$emptyFields.length) {
              $('#step_2_button').prop("disabled", false);
          }
      });
    });

    function goStep3() {
      document.getElementById("step_2").style.display = 'none';
      document.getElementById("step_3").style.display = 'block';
      document.getElementById("step_3_li").className = "completed";
      document.getElementById("step_2_li").className = "completed";
    }
  </script>

</body>
</html>
